(this.webpackJsonpaio_news=this.webpackJsonpaio_news||[]).push([[5],{43:function(e,a,t){e.exports=t.p+"static/media/user-icon.54e9ec53.png"},46:function(e,a,t){"use strict";t.r(a);var s=t(40),r=t(37),n=t(0),o=t.n(n),i=t(45),m=t(2),l=t(43),c=t.n(l);a.default=function(){var e=Object(n.useState)(!1),a=Object(r.a)(e,2),t=a[0],l=a[1],d=Object(i.a)({mode:"onChange"}),u=d.register,p=d.handleSubmit,f=d.errors,w=d.watch,h=d.reset,g=Object(n.useState)(!1),b=Object(r.a)(g,2),x=b[0],v=b[1],E=Object(m.f)(),N=function(e,a){if(t)return e.email===a.email&&e.password===a.password?(E.push("home",{user:e}),void h()):(v("Please enter correct email and password"),setTimeout((function(){v("")}),2e3),void h());v("User with this email already exist"),setTimeout((function(){v("")}),2e3),h()},y=function(e,a){if(t)return v("User with this email does not exist"),setTimeout((function(){v("")}),2e3),void h()};return Object(n.useEffect)((function(){!function(e){setTimeout((function(){e.email=null,e.password=null,e.confirmPassword=null}),1e3)}(f)}),[f]),o.a.createElement("article",null,o.a.createElement("form",{onSubmit:p((function(e){var a=JSON.parse(localStorage.getItem("users"));if(a){var r,n=Object(s.a)(a);try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o.email===e.email)return void N(o,e);y()}}catch(x){n.e(x)}finally{n.f()}(function(e){if(!t){var a={email:e.email,password:e.password,savedNews:[]},s=JSON.parse(localStorage.getItem("users"));s.push(a),localStorage.setItem("users",JSON.stringify(s)),E.push("home",{user:a}),h()}})(e)}else!function(e){if(t)return v("You need to register first"),setTimeout((function(){v("")}),2e3),void h();var a={email:e.email,password:e.password,savedNews:[]},s=[];s.push(a),localStorage.setItem("users",JSON.stringify(s)),h(),E.push("home",{user:a})}(e)})),className:"form p-4 p-lg-5 text-primary shadow"},o.a.createElement("div",{className:"text-center"},o.a.createElement("img",{src:c.a,className:"user-img",alt:""})),o.a.createElement("input",{type:"email",name:"email",ref:u({required:"Email is required",pattern:{value:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,message:"Invalid email address"}}),placeholder:"Enter Email",className:"form-text mt-4 form-control shadow-sm border-0 rounded-pill px-3"}),f.email&&o.a.createElement("small",{className:"text-danger mx-3"},f.email.message),o.a.createElement("input",{type:"password",name:"password",ref:u({required:"Password is required",minLength:{value:6,message:"Password should be 6 characters long"}}),placeholder:"Enter Password",className:"form-text mt-3 form-control shadow-sm border-0 rounded-pill px-3"}),f.password&&o.a.createElement("small",{className:"text-danger mx-3"},f.password.message),t?"":o.a.createElement("input",{type:"password",name:"confirmPassword",ref:u({required:"Confirm your password",validate:function(e){return e===w("password")||"Password don't match"}}),placeholder:"Confirm Password",className:"form-text mt-3 form-control shadow-sm border-0 rounded-pill px-3"}),!t&&f.confirmPassword&&o.a.createElement("small",{className:"text-danger mx-3"},f.confirmPassword.message),o.a.createElement("div",{className:"my-3 text-center"},x&&o.a.createElement("small",{className:"text-danger mb-1"},x),o.a.createElement("button",{type:"submit",className:"form-text btn btn-primary btn-block shadow rounded-pill"},t?"Login":"Sign Up")),o.a.createElement("div",{className:"text-center"},o.a.createElement("span",{onClick:function(){return l(!t)},className:"form-text text-dark switch-btn"},t?"Register":"Login"))))}}}]);
//# sourceMappingURL=5.e7b89a8f.chunk.js.map