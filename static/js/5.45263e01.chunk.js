(this.webpackJsonpaio_news=this.webpackJsonpaio_news||[]).push([[5],{43:function(e,a,t){e.exports=t.p+"static/media/user-icon.54e9ec53.png"},46:function(e,a,t){"use strict";t.r(a);var s=t(40),r=t(37),o=t(0),n=t.n(o),i=t(45),m=t(2),l=t(43),c=t.n(l);a.default=function(){var e=Object(o.useState)(!1),a=Object(r.a)(e,2),t=a[0],l=a[1],d=Object(i.a)({mode:"onChange"}),u=d.register,p=d.handleSubmit,f=d.errors,w=d.watch,h=d.reset,g=Object(o.useState)(!1),b=Object(r.a)(g,2),x=b[0],N=b[1],v=Object(m.f)(),E=function(e,a){if(t)return e.email===a.email&&e.password===a.password?(v.push("/".concat("AioNews","/home"),{user:e}),void h()):(N("Please enter correct email and password"),setTimeout((function(){N("")}),2e3),void h());N("User with this email already exist"),setTimeout((function(){N("")}),2e3),h()},y=function(e,a){if(t)return N("User with this email does not exist"),setTimeout((function(){N("")}),2e3),void h()};return Object(o.useEffect)((function(){!function(e){setTimeout((function(){e.email=null,e.password=null,e.confirmPassword=null}),1e3)}(f)}),[f]),n.a.createElement("article",null,n.a.createElement("form",{onSubmit:p((function(e){var a=JSON.parse(localStorage.getItem("users"));if(a){var r,o=Object(s.a)(a);try{for(o.s();!(r=o.n()).done;){var n=r.value;if(n.email===e.email)return void E(n,e);y()}}catch(x){o.e(x)}finally{o.f()}(function(e){if(!t){var a={email:e.email,password:e.password,savedNews:[]},s=JSON.parse(localStorage.getItem("users"));s.push(a),localStorage.setItem("users",JSON.stringify(s)),v.push("/".concat("AioNews","/home"),{user:a}),h()}})(e)}else!function(e){if(t)return N("You need to register first"),setTimeout((function(){N("")}),2e3),void h();var a={email:e.email,password:e.password,savedNews:[]},s=[];s.push(a),localStorage.setItem("users",JSON.stringify(s)),h(),v.push("/".concat("AioNews","/home"),{user:a})}(e)})),className:"form p-4 p-lg-5 text-primary shadow"},n.a.createElement("div",{className:"text-center"},n.a.createElement("img",{src:c.a,className:"user-img",alt:""})),n.a.createElement("input",{type:"email",name:"email",ref:u({required:"Email is required",pattern:{value:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,message:"Invalid email address"}}),placeholder:"Enter Email",className:"form-text mt-4 form-control shadow-sm border-0 rounded-pill px-3"}),f.email&&n.a.createElement("small",{className:"text-danger mx-3"},f.email.message),n.a.createElement("input",{type:"password",name:"password",ref:u({required:"Password is required",minLength:{value:6,message:"Password should be 6 characters long"}}),placeholder:"Enter Password",className:"form-text mt-3 form-control shadow-sm border-0 rounded-pill px-3"}),f.password&&n.a.createElement("small",{className:"text-danger mx-3"},f.password.message),t?"":n.a.createElement("input",{type:"password",name:"confirmPassword",ref:u({required:"Confirm your password",validate:function(e){return e===w("password")||"Password don't match"}}),placeholder:"Confirm Password",className:"form-text mt-3 form-control shadow-sm border-0 rounded-pill px-3"}),!t&&f.confirmPassword&&n.a.createElement("small",{className:"text-danger mx-3"},f.confirmPassword.message),n.a.createElement("div",{className:"my-3 text-center"},x&&n.a.createElement("small",{className:"text-danger mb-1"},x),n.a.createElement("button",{type:"submit",className:"form-text btn btn-primary btn-block shadow rounded-pill"},t?"Login":"Sign Up")),n.a.createElement("div",{className:"text-center"},n.a.createElement("span",{onClick:function(){return l(!t)},className:"form-text text-dark switch-btn"},t?"Register":"Login"))))}}}]);
//# sourceMappingURL=5.45263e01.chunk.js.map