(this.webpackJsonpaio_news=this.webpackJsonpaio_news||[]).push([[5],{43:function(e,a,t){e.exports=t.p+"static/media/user-icon.54e9ec53.png"},46:function(e,a,t){"use strict";t.r(a);var s=t(40),r=t(37),o=t(0),n=t.n(o),i=t(45),l=t(2),m=t(43),c=t.n(m);a.default=function(e){var a=Object(i.a)({mode:"onChange"}),t=a.register,m=a.handleSubmit,d=a.errors,u=a.watch,f=a.reset,p=Object(o.useState)(!1),w=Object(r.a)(p,2),g=w[0],h=w[1],b=Object(o.useState)(!1),x=Object(r.a)(b,2),N=x[0],v=x[1],E=Object(l.f)(),S=function(e,a){if(g)return e.email===a.email&&e.password===a.password?(localStorage.setItem("aio_user",JSON.stringify(e)),E.push("/home"),void f()):(v("Please enter correct email and password"),setTimeout((function(){v("")}),2e3),void f());v("User with this email already exist"),setTimeout((function(){v("")}),2e3),f()},y=function(e,a){if(g)return v("User with this email does not exist"),setTimeout((function(){v("")}),2e3),void f()};return Object(o.useEffect)((function(){!function(e){setTimeout((function(){e.email=null,e.password=null,e.confirmPassword=null}),1e3)}(d)}),[d]),n.a.createElement("article",null,n.a.createElement("form",{onSubmit:m((function(e){var a=JSON.parse(localStorage.getItem("aio_users"));if(a){var t,r=Object(s.a)(a);try{for(r.s();!(t=r.n()).done;){var o=t.value;if(o.email===e.email)return void S(o,e);y()}}catch(N){r.e(N)}finally{r.f()}(function(e){if(!g){var a={email:e.email,password:e.password,savedNews:[]},t=JSON.parse(localStorage.getItem("aio_users"));t.push(a),localStorage.setItem("aio_users",JSON.stringify(t)),localStorage.setItem("aio_user",JSON.stringify(a)),E.push("/home"),f()}})(e)}else!function(e){if(g)return v("You need to register first"),setTimeout((function(){v("")}),2e3),void f();var a={email:e.email,password:e.password,savedNews:[]},t=[];t.push(a),localStorage.setItem("aio_users",JSON.stringify(t)),f(),localStorage.setItem("aio_user",JSON.stringify(a)),E.push("/home")}(e)})),className:"form p-4 p-lg-5 text-primary shadow"},n.a.createElement("div",{className:"text-center"},n.a.createElement("img",{src:c.a,className:"user-img",alt:""})),n.a.createElement("input",{type:"email",name:"email",ref:t({required:"Email is required",pattern:{value:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,message:"Invalid email address"}}),placeholder:"Enter Email",className:"form-text mt-4 form-control shadow-sm border-0 rounded-pill px-3"}),d.email&&n.a.createElement("small",{className:"text-danger mx-3"},d.email.message),n.a.createElement("input",{type:"password",name:"password",ref:t({required:"Password is required",minLength:{value:6,message:"Password should be 6 characters long"}}),placeholder:"Enter Password",className:"form-text mt-3 form-control shadow-sm border-0 rounded-pill px-3"}),d.password&&n.a.createElement("small",{className:"text-danger mx-3"},d.password.message),g?"":n.a.createElement("input",{type:"password",name:"confirmPassword",ref:t({required:"Confirm your password",validate:function(e){return e===u("password")||"Password don't match"}}),placeholder:"Confirm Password",className:"form-text mt-3 form-control shadow-sm border-0 rounded-pill px-3"}),!g&&d.confirmPassword&&n.a.createElement("small",{className:"text-danger mx-3"},d.confirmPassword.message),n.a.createElement("div",{className:"my-3 text-center"},N&&n.a.createElement("small",{className:"text-danger mb-1"},N),n.a.createElement("button",{type:"submit",className:"form-text btn btn-primary btn-block shadow rounded-pill"},g?"Login":"Sign Up")),n.a.createElement("div",{className:"text-center"},n.a.createElement("span",{onClick:function(){return h(!g)},className:"form-text text-dark switch-btn"},g?"Register":"Login"))))}}}]);
//# sourceMappingURL=5.a24bdf48.chunk.js.map